<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Lời chúc Tết 2026</title>
<style>
body {
    font-family: Arial, sans-serif;
    text-align: center;
    margin-top: 50px;
    background-color: #fff8e7;
    color: #333;
}
h2 {
    color: #d72631;
    font-size: 26px;
    margin-bottom: 20px;
}
input, button {
    padding: 10px;
    font-size: 16px;
    margin-top: 10px;
}
button {
    cursor: pointer;
}
#result {
    margin-top: 30px;
    white-space: pre-line;
    font-size: 18px;
    color: #1b4332;
    font-weight: bold;
}
</style>
</head>
<body>

<h2>Sở Khoa học và Công nghệ chúc mừng Xuân Bính Ngọ 2026</h2>

<input id="name" placeholder="Nhập tên..." />
<br>
<button id="btnChuc">Nhận lời chúc</button>

<div id="result"></div>

<script>
// Hàm bỏ dấu tiếng Việt
function boDau(str){
    return str.normalize("NFD").replace(/[\u0300-\u036f]/g,"");
}

// Danh sách vần → cụm từ cuối câu
const VAN = {
    ao:["ngọt ngào","dạt dào","thắm vào"],
    inh:["lung linh","yên bình","bình minh"],
    ang:["dịu dàng","an khang","huy hoàng"],
    ai:["miệt mài","lâu dài","tương lai"],
    ieu:["mỹ miều","thuận chiều","sớm chiều"],
    uy:["như ý","phú quý","an nguy"],
    an:["bình an","hân hoan","ngập tràn"],
    am:["ấm êm","êm đềm","dịu mềm"],
    on:["vẹn tròn","sắt son","vuông tròn"]
};

// Lấy vần cuối của tên
function layVan(ten){
    if(!ten) return "an";
    let tenKhongDau = boDau(ten.toLowerCase());
    let keys = Object.keys(VAN).sort((a,b)=>b.length - a.length);
    for(let k of keys){
        if(tenKhongDau.endsWith(k)) return k;
    }
    return "an"; // fallback nếu không tìm thấy
}

// Tạo lời chúc chuẩn vần
function taoLoiChuc(){
    let ten = document.getElementById("name").value.trim();
    if(!ten){
        alert("Vui lòng nhập tên để nhận lời chúc!");
        return;
    }

    let van = layVan(ten);
    let tu = VAN[van];

    // Bài thơ 4 câu, chữ cuối khớp vần tên
    let loiChuc =
`Xuân về hoa nở ${tu[0]},
Năm mới an vui đến với ${ten}
Gia đình hạnh phúc ${tu[1]},
Công danh rực rỡ ${tu[2]}.`;

    document.getElementById("result").innerText = loiChuc;
}

// Gắn sự kiện nút
document.getElementById("btnChuc").addEventListener("click", taoLoiChuc);

</script>

</body>
</html>
